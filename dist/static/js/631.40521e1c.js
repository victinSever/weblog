"use strict";(self["webpackChunkweblog"]=self["webpackChunkweblog"]||[]).push([[631],{50262:function(e,s,t){t.r(s),t.d(s,{default:function(){return A}});var a=function(){var e=this,s=e._self._c;return s("div",{attrs:{id:"scroll-lisener"}},[s("Header"),s("el-row",{staticClass:"header"},[s("div",{staticClass:"category-list"},e._l(e.categoryList,(function(t){return s("span",{key:t.label,class:"category-item"+(e.categoryActive===t.id?" active":""),on:{click:function(s){return e.handleChangeCategoryActive(t.id)}}},[e._v(e._s(t.label))])})),0)]),s("el-row",{staticClass:"main"},[s("div",{staticClass:"main-inner"},[s("el-col",{staticClass:"message-left"},[s("el-card",{staticClass:"box-card"},[s("div",{staticClass:"order-list"},e._l(e.orderList,(function(t){return s("span",{key:t.label,class:"order-item"+(e.orderActive===t.value?" active":""),on:{click:function(s){return e.handleChangeOrderActive(t.value)}}},[e._v(e._s(t.label))])})),0),0!==e.passageList.length?s("div",{staticClass:"passage-list"},[s("PassageList",{attrs:{passageList:e.passageList}})],1):e.isLoading?s("el-skeleton",{staticStyle:{"margin-top":"15px"}}):s("el-empty")],1)],1),s("el-col",{staticClass:"message-right"},[s("PassageSignIn"),s("PassageRecom")],1)],1)])],1)},i=[],r=t(95360),n=t(24490),l=function(){var e=this,s=e._self._c;return s("el-card",{staticClass:"pass-signIn"},[s("div",{staticClass:"sigin-top"},[s("span",[s("span",{staticClass:"iconfont icon-rili"}),s("span",{staticClass:"welcome"},[e._v(e._s(e.welcome))])])]),s("p",{staticClass:"text"},[e._v(e._s(e.user?"把握每一天~~":"你还没有登录哦，登录可享更多权益"))])])},c=[],o={name:"passageSignIn",data(){return{isSignIn:!1}},computed:{welcome(){let e=(new Date).getHours();return e<=3||e>=23?"夜深了":e>3&&e<8?"早上好!":e>=8&&e<11?"上午好!":e>=11&&e<13?"中午好!":e>=13&&e<18?"下午好!":e>=18&&e<23?"晚上好!":""},user(){const e=this.$store.state.user;return!!e.token&&e.userInfo}}},g=o,d=t(1001),u=(0,d.Z)(g,l,c,!1,null,"58d0735a",null),h=u.exports,p=function(){var e=this,s=e._self._c;return s("ul",{staticClass:"recom-list"},[s("h3",{staticClass:"recom-title"},[e._v("优质领域博主")]),e._l(e.recomList,(function(t){return s("li",{key:t.id,staticClass:"recom-item",on:{click:function(s){return e.gotoLink(t.id)}}},[t.userImage?s("el-image",{attrs:{src:t.userImage}}):s("el-image",{attrs:{src:"https://tva2.sinaimg.cn/large/008cs7isly8h88i9ec08sj30u00u379u.jpg"}}),s("span",{staticClass:"username",domProps:{textContent:e._s(t.username)}})],1)}))],2)},m=[],v={name:"recomPage",data(){const e=[{id:"1",userImage:"https://tva3.sinaimg.cn/large/008cs7isly8h7u5on9iu5j30u00u0q5i.jpg",username:"法盲张三"},{id:"2",userImage:"https://tva3.sinaimg.cn/large/008cs7isly8h7u5on9iu5j30u00u0q5i.jpg",username:"法盲张三"},{id:"3",userImage:"https://tva3.sinaimg.cn/large/008cs7isly8h7u5on9iu5j30u00u0q5i.jpg",username:"法盲张三"}];return{recomList:e}},methods:{gotoLink(e){this.$message.warning("暂不支持访问他人博客主页！")}}},L=v,f=(0,d.Z)(L,p,m,!1,null,"a12addb0",null),b=f.exports,C=t(20629),w=t(60179);const y=[{id:1,label:"全部",parentId:""},{id:2,label:"前端",parentId:""},{id:3,label:"后端",parentId:""},{id:4,label:"Andriod",parentId:""},{id:5,label:"IOS",parentId:""},{id:6,label:"人工智能",parentId:""},{id:7,label:"阅读",parentId:""},{id:8,label:"杂谈",parentId:""}],I=[{label:"推荐",value:1},{label:"最新",value:2},{label:"热榜",value:3}];var _={name:"passagePage",components:{Header:r.Z,PassageList:n.Z,PassageSignIn:h,PassageRecom:b},data(){return{categoryList:y,orderList:I,passageList:[],categoryActive:1,orderActive:1,loadTimes:0,isLoading:!1,pageMap:{size:5,page:1}}},computed:{user(){const e=this.$store.state.user;return!!e.token&&e.userInfo}},mounted(){window.addEventListener("scroll",this.handleScroll,!1),this.getData()},beforeDestroy(){window.removeEventListener("scroll",this.handleScroll,!1)},methods:{...(0,C.nv)("passage",["getPassageList","getPassageLatestList","getPassageHotList"]),async getData(e){try{this.isLoading=!0;const s={...this.pageMap,userId:this.user.id};let t={};switch(this.orderActive){case 1:t=await this.getPassageList(s);break;case 2:t=await this.getPassageLatestList(s);break;case 3:t=await this.getPassageHotList(s);break;default:this.$message.error("出错了")}if(this.isLoading=!1,200!==t.data.code)return this.$message.warning("没有更多数据了");this.passageList=e?this.passageList.concat(t.data.data):t.data.data}catch(s){this.$message.error("不好意思，服务器跑丢了~~")}},addPage(){this.pageMap.page++,this.getData(!0)},handleScroll(){const e=document.body.offsetHeight-window.pageYOffset-window.innerHeight;if(e<=5){if(this.isLoading)return;let e=this;(0,w.P2)(e.addPage(),500)}},handleChangeCategoryActive(e){this.categoryActive=e,this.getData()},handleChangeOrderActive(e){this.orderActive=e,this.getData()}}},k=_,P=(0,d.Z)(k,a,i,!1,null,"8bac1454",null),A=P.exports}}]);
//# sourceMappingURL=631.40521e1c.js.map