"use strict";(self["webpackChunkweblog"]=self["webpackChunkweblog"]||[]).push([[726],{98726:function(s,e,t){t.r(e),t.d(e,{default:function(){return u}});t(57658);var a=function(){var s=this,e=s._self._c;return e("el-form",{ref:"passForm",attrs:{model:s.passForm,"status-icon":"",size:"medium"}},[e("el-form-item",[e("div",{staticClass:"header"},[e("el-image",{attrs:{src:t(27442),alt:""}}),e("span",{staticClass:"tip"},[s._v("登录")])],1)]),e("el-form-item",{attrs:{prop:"phone"}},[e("el-input",{ref:"inputphone",attrs:{type:"text",autocomplete:"off",placeholder:"请输入手机号 新手机号登录即注册"},model:{value:s.passForm.phone,callback:function(e){s.$set(s.passForm,"phone",e)},expression:"passForm.phone"}})],1),e("el-form-item",{attrs:{prop:"password"}},[e("el-input",{ref:"inputPassword",attrs:{autocomplete:"off",placeholder:"请输入密码","show-password":""},model:{value:s.passForm.password,callback:function(e){s.$set(s.passForm,"password",e)},expression:"passForm.password"}})],1),e("el-form-item",[e("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:function(e){return s.submitForm()}}},[s._v("登录")])],1),e("el-form-item",[e("div",{staticClass:"base"},[e("el-link",{attrs:{underline:!1,type:"primary"},on:{click:function(e){return s.$message.warning("暂未上线该功能！")}}},[s._v("手机登录")]),e("el-link",{attrs:{underline:!1,type:"primary"},on:{click:function(e){return s.$router.push({name:"reback"})}}},[s._v("忘记密码")])],1)]),e("el-form-item",{staticStyle:{display:"flex","justify-content":"space-around"}},[e("el-button",{staticClass:"icon iconfont icon-weibo",attrs:{circle:"",type:"danger"},on:{click:function(e){return s.$message.warning("暂未上线该功能！")}}})],1)],1)},r=[],o=t(20629),n={name:"login",data(){return{passForm:{phone:"13330245687",password:"12345678"}}},methods:{...(0,o.OI)("user",["UpdateUserInfo","UpdateToken"]),...(0,o.nv)("user",["getLoginByPass"]),resetForm(s){this.$refs[s].resetFields()},async loginByPass(){try{const{data:s}=await this.getLoginByPass(this.passForm);console.log(s),200===s.code||s.data?(this.$message.success("登录成功！"),this.UpdateUserInfo(s.data.user),this.UpdateToken(s.data.token),this.resetForm("passForm"),"admin"===s.data.user.role?this.$router.push({name:"admin"}):this.$router.push({name:"passage"})):this.$message.warning(s.msg)}catch(s){this.$message.error("抱歉，服务器跑丢了哦~~")}},submitForm(){return""===this.passForm.phone?(this.$notify({message:"请输入用户名",type:"warning",duration:2e3}),void this.$refs.inputphone.focus()):""===this.passForm.password?(this.$notify({message:"请输入密码",type:"warning",duration:2e3}),void this.$refs.inputPassword.focus()):void this.loginByPass()}}},i=n,p=t(1001),l=(0,p.Z)(i,a,r,!1,null,"56e2cae7",null),u=l.exports},27442:function(s,e,t){s.exports=t.p+"static/img/logo.069095a8.png"}}]);
//# sourceMappingURL=726.f947921d.js.map