"use strict";(self["webpackChunkweblog"]=self["webpackChunkweblog"]||[]).push([[158],{45158:function(e,s,i){i.r(s),i.d(s,{default:function(){return d}});var t=function(){var e=this,s=e._self._c;return s("div",{staticClass:"root"},[s("h1",{staticClass:"title"},[e._v("个性化配置")]),s("el-divider",{attrs:{"content-position":"left"}},[s("span",{staticClass:"session-title"},[e._v("主题设置")])]),s("div",{staticClass:"session"},[s("div",{staticClass:"session-item"},[e._m(0),s("div",{staticClass:"item-main"},[s("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:e.config.color,callback:function(s){e.$set(e.config,"color",s)},expression:"config.color"}},e._l(e.themes,(function(e){return s("el-option",{key:e.value,attrs:{label:e.label,value:e.value,default:"#ec8c69"}})})),1)],1)]),s("div",{staticClass:"session-item"},[e._m(1),s("div",{staticClass:"item-main"},[s("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:e.config.isGrey,callback:function(s){e.$set(e.config,"isGrey",s)},expression:"config.isGrey"}})],1)])]),s("el-divider",{attrs:{"content-position":"left"}},[s("span",{staticClass:"session-title"},[e._v("背景设置")])]),s("div",{staticClass:"session"},[s("div",{staticClass:"session-item"},[e._m(2),s("div",{staticClass:"item-main"},[s("el-upload",{attrs:{action:e.$upload_path,"list-type":"picture-card","on-preview":e.handlePictureCardPreview,"on-remove":e.handleRemove,"on-success":e.handleSuccess,"before-upload":e.handleBeforeUpload}},[s("i",{staticClass:"el-icon-plus"})]),s("el-dialog",{attrs:{visible:e.dialogVisible},on:{"update:visible":function(s){e.dialogVisible=s}}},[s("el-image",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})],1)],1)])]),s("el-divider",{attrs:{"content-position":"left"}},[s("span",{staticClass:"session-title"},[e._v("布局设置")])]),s("div",{staticClass:"session"},[s("div",{staticClass:"session-item"},[e._m(3),s("div",{staticClass:"item-main"},[s("el-radio",{attrs:{label:"0"},model:{value:e.config.menuPlace,callback:function(s){e.$set(e.config,"menuPlace",s)},expression:"config.menuPlace"}},[e._v("左侧")]),s("el-radio",{attrs:{label:"1"},model:{value:e.config.menuPlace,callback:function(s){e.$set(e.config,"menuPlace",s)},expression:"config.menuPlace"}},[e._v("右侧")])],1)])]),s("el-divider",{attrs:{"content-position":"left"}},[s("span",{staticClass:"session-title"},[e._v("动画设置")])]),s("div",{staticClass:"session"},[s("div",{staticClass:"session-item"},[e._m(4),s("div",{staticClass:"item-main"},[s("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:e.config.userImageAnimation,callback:function(s){e.$set(e.config,"userImageAnimation",s)},expression:"config.userImageAnimation"}})],1)]),s("div",{staticClass:"session-item"},[e._m(5),s("div",{staticClass:"item-main"},[s("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:e.config.waveAnimation,callback:function(s){e.$set(e.config,"waveAnimation",s)},expression:"config.waveAnimation"}})],1)]),s("div",{staticClass:"btn-save",style:"visibility: "+(e.isChange?"visible":"hidden"),on:{click:e.handleSave}},[s("span",{staticClass:"iconfont icon-save-fill"}),s("span",{domProps:{textContent:e._s("保存")}})])])],1)},a=[function(){var e=this,s=e._self._c;return s("div",{staticClass:"item-title"},[s("span",[e._v("页面主题：")])])},function(){var e=this,s=e._self._c;return s("div",{staticClass:"item-title"},[s("span",[e._v("灰度页面：")])])},function(){var e=this,s=e._self._c;return s("div",{staticClass:"item-title"},[s("span",[e._v("轮播图：")])])},function(){var e=this,s=e._self._c;return s("div",{staticClass:"item-title"},[s("span",[e._v("菜单布局：")])])},function(){var e=this,s=e._self._c;return s("div",{staticClass:"item-title"},[s("span",[e._v("头像动画：")])])},function(){var e=this,s=e._self._c;return s("div",{staticClass:"item-title"},[s("span",[e._v("波浪动画：")])])}],n=i(20629),l={name:"settingPage",data(){const e=[{id:"0",label:"默认",value:"#ec8c69"},{id:"1",label:"蔚蓝",value:"#1e80ff"},{id:"2",label:"浅绿",value:"lightgreen"},{id:"3",label:"浅紫",value:"rgb(183, 140, 247)"}];return{config:{isGrey:!1,color:"123",menuPlace:"0",backgroundImageList:["3123"],userImageAnimation:!0,waveAnimation:!0},dialogImageUrl:"",dialogVisible:!1,themes:e,isChange:!1}},watch:{config:{deep:!0,handler(){this.isChange=!0}}},computed:{user(){const e=this.$store.state.user;return!!e.token&&e.userInfo}},mounted(){this.getConfig(this.user.id),this.config=this.$store.state.config.config},methods:{...(0,n.OI)("config",["UpdateConfig"]),...(0,n.nv)("config",["setUserTheme","getConfig"]),async handleSave(){try{const{data:e}=await this.setUserTheme({userId:this.user.id||0,...this.config});console.log(e),200===e.code&&(this.getConfig(this.user.id),this.$message.success("保存成功！"))}catch(e){this.$message.error(e)}},handleRemove(e,s){console.log(e,s)},handlePictureCardPreview(e){this.dialogImageUrl=e.url,this.dialogVisible=!0,console.log("handlePictureCardPreview",e)},handleSuccess(e,s,i){console.log("handleSuccess",e,s,i)},handleBeforeUpload(e){const s=e.size/1024/1024<8;return s||this.$message.error("上传头像图片大小不能超过 8MB!"),s}}},o=l,c=i(1001),r=(0,c.Z)(o,t,a,!1,null,"65e24463",null),d=r.exports}}]);
//# sourceMappingURL=158.6e4f95a2.js.map